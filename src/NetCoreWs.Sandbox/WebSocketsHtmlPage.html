<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>WebSockets client</title>
</head>
<body>
<div id="room">
    <ul class="list-unstyled"></ul>
    <form>
        <input type="button" onclick="clickEventHandler()" value="Send"/>
        <input class="onconnect" autocomplete="off" autofocus placeholder=".">
        <input class="message" autocomplete="off" autofocus placeholder="">
        <input class="onmessage" autocomplete="off" autofocus placeholder="">
        <input class="onerror" autocomplete="off" autofocus placeholder="">
    </form>
</div>

<script>
    var ws = new WebSocket("ws://localhost:5052/");

    ws.onopen = function() 
    {
        var elements = document.getElementsByClassName("onconnect");
        elements[0].value = "Connected";
    };
    
    ws.onmessage = function(event)
    {
        var elements = document.getElementsByClassName("onmessage");
        elements[0].value = event.data;
    };

    function clickEventHandler()
    {
//        var elements = document.getElementsByClassName("message");
//        ws.send(elements[0].value);
        for (j = 0; j < 100000; j++)
        {
            ws.send("люцией в области хранения информации. В этой статье расскажем о том, какие технологии лежат в основе новых дисков и какие преимущества они дают. #" + j);
        }
    }
</script>
</body>
</html>