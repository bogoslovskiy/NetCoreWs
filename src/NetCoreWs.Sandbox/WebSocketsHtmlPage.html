<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>WebSockets client</title>
</head>
<body>
<div id="room">
    <ul class="list-unstyled"></ul>
    <form>
        <input type="button" onclick="clickEventHandler()" value="Send"/>
        <input class="onconnect" autocomplete="off" autofocus placeholder=".">
        <input class="message" autocomplete="off" autofocus placeholder="">
        <input class="onmessage" autocomplete="off" autofocus placeholder="">
        <input class="onerror" autocomplete="off" autofocus placeholder="">
    </form>
</div>

<script>
    var ws = new WebSocket("ws://localhost:5052/");

    ws.onopen = function() 
    {
        var elements = document.getElementsByClassName("onconnect");
        elements[0].value = "Connected";
    };
    
    ws.onmessage = function(event)
    {
        var elements = document.getElementsByClassName("onmessage");
        elements[0].value = event.data;
    };

    function clickEventHandler()
    {
//        var elements = document.getElementsByClassName("message");
//        ws.send(elements[0].value);
        for (j = 0; j < 1000000; j++)
        {
            ws.send("Перевод коллективной статьи Practical experiences based on MIPSfpga, не так давно представленной Сарой Харрис на симпозиуме в Торонто. Приводится подробное описание MIPSfpga 2.0, релиз которой состоялся 3 июля 2017 года. Основное, на мой взгляд, отличие по сравнению с версией 1.3: пакет лабораторных работ расширен набором, ориентированным на внутреннюю работу процессора. Так что, если вы хотите узнать, как работает современное ядро, то MIPSfpga 2.0 #" + j);
        }
    }

    
</script>
</body>
</html>